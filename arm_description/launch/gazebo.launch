<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<group ns="/arm_description">

		<include file="$(find gazebo_ros)/launch/empty_world.launch" />
		
		<node name="tf_footprint_base" pkg="tf" type="static_transform_publisher" args="0 0 0 0 0 0 base_link base_footprint 40" />
		
		<node name="spawn_model" pkg="gazebo_ros" type="spawn_model" args="-file $(find arm_description)/urdf/arm_description.urdf -urdf -model arm_description" output="screen" />
		
		<node name="fake_joint_calibration" pkg="rostopic" type="rostopic" args="pub /calibrated std_msgs/Bool true" />

		<!-- Load controllers -->
		<rosparam command="load" file="$(find arm_description)/config/joints_controllers.yaml" />

		<!-- Controllers -->
		<node name="spawn_controllers" pkg="controller_manager" type="spawner" respawn="false" output="screen" ns="/arm_description" args="--namespace=/arm_description
            joint_state_controller
            joint1_position_controller
            joint2_position_controller
            joint3_position_controller
            --timeout 60">
		</node>
	
	</group>
	
</launch>